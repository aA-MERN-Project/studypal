{"ast":null,"code":"'use strict';\n\nconst _requestFunction = require('request-function');\n\nconst _toRequestOptions = require('./to-request-options');\n\nconst _responseHandler = require('./response-handler');\n\nconst send = requestModel => {\n  return new Promise((resolve, reject) => {\n    try {\n      const options = _toRequestOptions(requestModel);\n\n      const request = _requestFunction.fromProtocol(options.protocol);\n\n      const clientRequest = request(options, resp => _responseHandler(resp, resolve, reject));\n      clientRequest.on('timeout', () => {\n        clientRequest.destroy();\n      });\n\n      if (requestModel.socketTimeout) {\n        clientRequest.on('socket', function (socket) {\n          socket.setTimeout(requestModel.socketTimeout);\n          socket.on('timeout', function () {\n            clientRequest.destroy();\n          });\n        });\n      }\n\n      clientRequest.on('error', e => {\n        reject(e);\n      });\n\n      if (requestModel.body) {\n        clientRequest.write(requestModel.body);\n      }\n\n      clientRequest.end();\n    } catch (e) {\n      reject(e);\n    }\n  });\n};\n\nmodule.exports = send;","map":{"version":3,"sources":["/mnt/c/Users/antr9/Desktop/studypal-master/frontend/node_modules/small-request/lib/send.js"],"names":["_requestFunction","require","_toRequestOptions","_responseHandler","send","requestModel","Promise","resolve","reject","options","request","fromProtocol","protocol","clientRequest","resp","on","destroy","socketTimeout","socket","setTimeout","e","body","write","end","module","exports"],"mappings":"AAAA;;AAEA,MAAMA,gBAAgB,GAAGC,OAAO,CAAC,kBAAD,CAAhC;;AACA,MAAMC,iBAAiB,GAAGD,OAAO,CAAC,sBAAD,CAAjC;;AACA,MAAME,gBAAgB,GAAGF,OAAO,CAAC,oBAAD,CAAhC;;AAEA,MAAMG,IAAI,GAAIC,YAAD,IAAkB;AAC7B,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtC,QAAG;AACD,YAAMC,OAAO,GAAGP,iBAAiB,CAACG,YAAD,CAAjC;;AACA,YAAMK,OAAO,GAAGV,gBAAgB,CAACW,YAAjB,CAA8BF,OAAO,CAACG,QAAtC,CAAhB;;AAEA,YAAMC,aAAa,GAAGH,OAAO,CAACD,OAAD,EAAWK,IAAD,IAAUX,gBAAgB,CAACW,IAAD,EAAOP,OAAP,EAAgBC,MAAhB,CAApC,CAA7B;AAEAK,MAAAA,aAAa,CAACE,EAAd,CAAiB,SAAjB,EAA4B,MAAM;AAChCF,QAAAA,aAAa,CAACG,OAAd;AACD,OAFD;;AAIA,UAAGX,YAAY,CAACY,aAAhB,EAA8B;AAC5BJ,QAAAA,aAAa,CAACE,EAAd,CAAiB,QAAjB,EAA2B,UAAUG,MAAV,EAAkB;AAC3CA,UAAAA,MAAM,CAACC,UAAP,CAAkBd,YAAY,CAACY,aAA/B;AACAC,UAAAA,MAAM,CAACH,EAAP,CAAU,SAAV,EAAqB,YAAW;AAC9BF,YAAAA,aAAa,CAACG,OAAd;AACD,WAFD;AAGD,SALD;AAMD;;AAEDH,MAAAA,aAAa,CAACE,EAAd,CAAiB,OAAjB,EAA2BK,CAAD,IAAO;AAC/BZ,QAAAA,MAAM,CAACY,CAAD,CAAN;AACD,OAFD;;AAIA,UAAGf,YAAY,CAACgB,IAAhB,EAAqB;AACnBR,QAAAA,aAAa,CAACS,KAAd,CAAoBjB,YAAY,CAACgB,IAAjC;AACD;;AAEDR,MAAAA,aAAa,CAACU,GAAd;AACD,KA5BD,CA4BE,OAAMH,CAAN,EAAQ;AACRZ,MAAAA,MAAM,CAACY,CAAD,CAAN;AACD;AACF,GAhCM,CAAP;AAiCD,CAlCD;;AAoCAI,MAAM,CAACC,OAAP,GAAiBrB,IAAjB","sourcesContent":["'use strict';\n\nconst _requestFunction = require('request-function');\nconst _toRequestOptions = require('./to-request-options');\nconst _responseHandler = require('./response-handler');\n\nconst send = (requestModel) => {\n  return new Promise((resolve, reject) => {\n    try{\n      const options = _toRequestOptions(requestModel);\n      const request = _requestFunction.fromProtocol(options.protocol);\n\n      const clientRequest = request(options, (resp) => _responseHandler(resp, resolve, reject));\n\n      clientRequest.on('timeout', () => {\n        clientRequest.destroy();\n      });\n\n      if(requestModel.socketTimeout){\n        clientRequest.on('socket', function (socket) {\n          socket.setTimeout(requestModel.socketTimeout);  \n          socket.on('timeout', function() {\n            clientRequest.destroy();\n          });\n        });\n      }\n\n      clientRequest.on('error', (e) => {\n        reject(e);\n      });\n\n      if(requestModel.body){\n        clientRequest.write(requestModel.body);\n      }\n      \n      clientRequest.end();    \n    } catch(e){\n      reject(e);\n    }\n  });\n};\n\nmodule.exports = send;"]},"metadata":{},"sourceType":"script"}